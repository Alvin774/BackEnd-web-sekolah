<%- include('partials/header') %>

    <link rel="stylesheet" href="css/data-sekolah.css" />
    <section
      class="data-section position-relative overflow-hidden text-white text-start"
    >
      <div class="overlay"></div>
      <div class="container position-relative">
        <h1 class="display-4 fw-bold ms-4 animated-text">Data Sekolah</h1>
      </div>
    </section>

    <!-- Data Sekolah Start -->

    <section class="py-5 data-sekolah">
      <section class="data-gambar text-center py-5">
        <div class="container">
          <!-- Header -->
          <div class="mb-4">
            <img
              src="icon/database-solid.png"
              alt="Icon"
              class="mb-4 animate-icon"
              style="width: 70px"
            />
            <h3 class="fw-bold animate-heading">Data Sekolah</h3>
            <p class="text-muted animate-description">
              Data Sekolah SMP Islam Sa'adatuddarain NW Majuwet
            </p>
            <div class="d-flex justify-content-center">
              <hr class="mx-auto animate-line" style="width: 31.25em" />
              <i
                class="bi bi-star animate-icon-star"
                style="font-size: 24px; color: black"
              ></i>
              <hr class="mx-auto animate-line" style="width: 31.25em" />
            </div>
          </div>

          <!-- Cards Grid -->
          <div
            class="row d-flex justify-content-center g-4 animate-cards"
          ></div>
        </div>
      </section>


      <section>
        <div class="container"><div class="row">
        <!-- Sidebar: Informasi Sekolah (misalnya, logo dan data ringkas) -->
        <div class="col-md-3">
          <div class="card shadow mb-3">
            <div class="card-body text-center">
              <img src="img/logo SMP.png" alt="School Icon" class="img-fluid mb-3" style="width: 100px">
              <button class="btn btn-success w-100 mb-2" style="background: linear-gradient(135deg, #004d00, #0f8010);">DATA SEKOLAH KITA</button>
              <p class="text-start">
                <strong>Kepsek:</strong> <span id="kepsekField">-</span><br>
                <strong>Operator:</strong> <span id="operatorField">-</span><br>
                <strong>Akreditasi:</strong> <span id="akreditasiField">-</span><br>
                <strong>Kurikulum:</strong> <span id="kurikulumField">-</span><br>
                <strong>Waktu:</strong> <span id="waktuField">-</span>
              </p>
            </div>
          </div>
        </div>

        <!-- Main Content: Data Sekolah Detail -->
        <div class="col-md-9">
          <div class="card shadow">
            <div class="card-header d-flex justify-content-between align-items-center">
              <ul class="nav nav-tabs card-header-tabs">
                <li class="nav-item">
                  <a class="nav-link active" href="#">Profil</a>
                </li>
                <!-- Tab lain jika diperlukan -->
              </ul>
            </div>
            <div class="card-body">
              <div class="row">
                <!-- Card Identitas Sekolah -->
                <div class="col-md-6 mb-3">
                  <div class="card">
                    <div class="card-header text-white" style="background: linear-gradient(135deg, #004d00, #0f8010);">
                      Identitas Sekolah
                    </div>
                    <div class="card-body">
                      <p><strong>NPSN:</strong> <span id="npsnField">-</span></p>
                      <p><strong>Status:</strong> <span id="statusField">-</span></p>
                      <p><strong>Bentuk Pendidikan:</strong> <span id="bentukField">-</span></p>
                      <p><strong>Status Kepemilikan:</strong> <span id="kepemilikanField">-</span></p>
                      <p><strong>SK Pendirian Sekolah:</strong> <span id="skPendirianField">-</span></p>
                      <p><strong>Tanggal SK Pendirian:</strong> <span id="tanggalSkPendirianField">-</span></p>
                      <p><strong>SK Izin Operasional:</strong> <span id="skIzinOperasionalField">-</span></p>
                      <p><strong>Tanggal SK Izin Operasional:</strong> <span id="tanggalSkIzinOperasionalField">-</span></p>
                    </div>
                  </div>
                </div>

                <!-- Card Data Pelengkap -->
                <div class="col-md-6 mb-3">
                  <div class="card">
                    <div class="card-header text-white" style="background: linear-gradient(135deg, #004d00, #0f8010);">
                      Data Pelengkap
                    </div>
                    <div class="card-body">
                      <p><strong>Kebutuhan Khusus Dilayani:</strong> <span id="kebutuhanField">-</span></p>
                      <p><strong>Nama Bank:</strong> <span id="namaBankField">-</span></p>
                      <p><strong>Cabang KCP/Unit:</strong> <span id="cabangField">-</span></p>
                      <p><strong>Rekening Atas Nama:</strong> <span id="rekeningField">-</span></p>
                    </div>
                  </div>
                </div>

                <!-- Card Data Rinci -->
                <div class="col-md-6">
                  <div class="card">
                    <div class="card-header text-white" style="background: linear-gradient(135deg, #004d00, #0f8010);">
                      Data Rinci
                    </div>
                    <div class="card-body">
                      <p><strong>Status BOS:</strong> <span id="statusBOSField">-</span></p>
                      <p><strong>Waktu Penyelenggaraan:</strong> <span id="waktuPenyelenggaraanField">-</span></p>
                      <p><strong>Sertifikasi ISO:</strong> <span id="isoField">-</span></p>
                      <p><strong>Sumber Listrik:</strong> <span id="sumberListrikField">-</span></p>
                      <p><strong>Daya Listrik:</strong> <span id="dayaListrikField">-</span></p>
                      <p><strong>Kecepatan Internet:</strong> <span id="kecepatanField">-</span></p>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Tambahan jika ada -->
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>
  <!-- Data Sekolah End -->

  <!-- Footer Start -->
  <section class="footer py-5 text-white" style="background: #004d00">
    <div class="container">
      <div class="row d-flex justify-content-center">
        <!-- Informasi Sekolah -->
        <div class="col-md-4 mb-4">
          <h5 class="fw-bold">SMP ISLAM SA'DATUDDARAIN NW MAJUWET</h5>
          <p>
            Alamat: Jln.Kud.Tiga<br />
            Serangkai Majuwet Bintang Rinjani Kec.Suralaga<br />
            Kab.Lombok Timur Prov.NTB
          </p>
          <p>
            <i class="bi bi-envelope"></i> smpinwmajuwet@gmail.com<br />
            <i class="bi bi-telephone"></i> (123) 763-275<br />
            <i class="bi bi-whatsapp"></i> +62-838-5534-934
          </p>
        </div>
        <!-- Information Links -->
        <div class="col-md-4 mb-4">
          <h5 class="fw-bold">INFORMATION</h5>
          <ul class="list-unstyled">
            <li><i class="bi bi-circle-fill text-white me-2"></i> Home</li>
            <li><i class="bi bi-circle-fill text-white me-2"></i> Ekstrakulikuler</li>
            <li><i class="bi bi-circle-fill text-white me-2"></i> Fasilitas</li>
            <li><i class="bi bi-circle-fill text-white me-2"></i> PPDB</li>
          </ul>
        </div>
        <!-- Location -->
        <div class="col-md-4 mb-4">
          <h5 class="fw-bold">LOCATION</h5>
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3944.832087562659!2d116.51998077382025!3d-8.612114487489311!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dcc496689b27cd7%3A0x955b906a85c54b8d!2sSMP%20Islam%20Sa&#39;adatuddarain%20NW%20Majuwet!5e0!3m2!1sid!2sid!4v1736651272738!5m2!1sid!2sid"
            width="300"
            height="250"
            style="border: 0"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
          ></iframe>
        </div>
      </div>
      <div class="text-center mt-4">
        <hr class="border-white" />
        <p class="copy-right mb-0">
          Copy Right 2025 | Developer Redi Elwaji Aspan
        </p>
      </div>
    </div>
  </section>
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"

  ></script>
  <!-- Script untuk memuat data sekolah -->
  <script>
    async function loadDataSekolah() {
      try {
        const response = await fetch('/api/data-sekolah');
        if (!response.ok) throw new Error('Failed to fetch data sekolah');
        const data = await response.json();
        
        // Update Identitas Sekolah
        document.getElementById('npsnField').innerText = data.npsn || "-";
        document.getElementById('statusField').innerText = data.status || "-";
        document.getElementById('bentukField').innerText = data.bentukPendidikan || "-";
        document.getElementById('kepemilikanField').innerText = data.statusKepemilikan || "-";
        document.getElementById('skPendirianField').innerText = data.skPendirian || "-";
        document.getElementById('tanggalSkPendirianField').innerText = data.tanggalSkPendirian || "-";
        document.getElementById('skIzinOperasionalField').innerText = data.skIzinOperasional || "-";
        document.getElementById('tanggalSkIzinOperasionalField').innerText = data.tanggalSkIzinOperasional || "-";
        
        // Update Data Pelengkap
        document.getElementById('kebutuhanField').innerText = data.kebutuhanKhusus || "-";
        document.getElementById('namaBankField').innerText = data.namaBank || "-";
        document.getElementById('cabangField').innerText = data.cabang || "-";
        document.getElementById('rekeningField').innerText = data.rekeningAtasNama || "-";
        
        // Update Data Rinci
        document.getElementById('statusBOSField').innerText = data.statusBOS || "-";
        document.getElementById('waktuPenyelenggaraanField').innerText = data.waktuPenyelenggaraan || "-";
        document.getElementById('isoField').innerText = data.sertifikasiISO || "-";
        document.getElementById('sumberListrikField').innerText = data.sumberListrik || "-";
        document.getElementById('dayaListrikField').innerText = data.dayaListrik || "-";
        document.getElementById('kecepatanField').innerText = data.kecepatanInternet || "-";
        
        // Jika ada data untuk sidebar (misal, kepsek, operator, akreditasi, kurikulum, waktu), update juga (jika field ada)
        // Misalnya:
        document.getElementById('kepsekField').innerText = data.kepsek || "-";
        document.getElementById('operatorField').innerText = data.operator || "-";
        document.getElementById('akreditasiField').innerText = data.akreditasi || "-";
        document.getElementById('kurikulumField').innerText = data.kurikulum || "-";
        document.getElementById('waktuField').innerText = data.waktu || "-";
      } catch (error) {
        console.error("Error loading data sekolah:", error);
        alert("Terjadi kesalahan saat memuat data sekolah.");
      }
    }

    document.addEventListener("DOMContentLoaded", loadDataSekolah);
  </script>

</html>

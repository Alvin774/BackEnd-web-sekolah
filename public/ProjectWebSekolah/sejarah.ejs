<%- include('partials/header') %>
  <!-- Custom CSS -->
  <link rel="stylesheet" href="css/sejarah.css" />
  <style>
    /* Styling khusus untuk halaman Sejarah */
    .sejarah-section {
      background: url('./img/poto-depan-sekolah-smp.jpg') center/cover no-repeat;
      position: relative;
      color: #fff;
      padding: 60px 0;
    }
    .sejarah-section .overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.5);
    }
    .sejarah-content {
      position: relative;
      z-index: 2;
      padding: 20px;
      background: rgba(255,255,255,0.9);
      border-radius: 8px;
      color: #333;
    }
  </style>

  <!-- Header Section -->
  <section class="sejarah-section position-relative">
    <div class="overlay"></div>
    <div class="container position-relative">
      <h1 class="display-4 fw-bold">Sejarah SMP Islam Sa'adatuddarain NW Majuwet</h1>
    </div>
  </section>

  <!-- Konten Sejarah -->
  <section class="py-5">
    <div class="container sejarah-content" id="sejarahContent">
      <!-- Data sejarah akan dimuat secara dinamis dari API -->
      <p class="text-center">Memuat data sejarah...</p>
    </div>
  </section>

  <section class="footer py-5 text-white" style="background: #004d00">
    <div class="container">
      <div class="row d-flex justify-content-center">
        <div class="col-md-4 mb-4">
          <h5 class="fw-bold">SMP ISLAM SA'DATUDDARAIN NW MAJUWET</h5>
          <p>
            Alamat: Jln.Kud.Tiga<br />
            Serangkai Majuwet Bintang Rinjani Kec.Suralaga<br />
            Kab.Lombok Timur Prov.NTB
          </p>
          <p>
            <i class="bi bi-envelope"></i> smpinwmajuwet@gmail.com<br />
            <i class="bi bi-telephone"></i> (123) 763-275<br />
            <i class="bi bi-whatsapp"></i> +62-838-5534-934
          </p>
        </div>
        <div class="col-md-4 mb-4">
          <h5 class="fw-bold">INFORMATION</h5>
          <ul class="list-unstyled">
            <li><i class="bi bi-circle-fill text-white me-2"></i> Home</li>
            <li><i class="bi bi-circle-fill text-white me-2"></i> Ekstrakulikuler</li>
            <li><i class="bi bi-circle-fill text-white me-2"></i> Fasilitas</li>
            <li><i class="bi bi-circle-fill text-white me-2"></i> PPDB</li>
          </ul>
        </div>
        <div class="col-md-4 mb-4">
          <h5 class="fw-bold">LOCATION</h5>
          <iframe
            src="https://www.google.com/maps/embed?pb=!1m18!1m12!1m3!1d3944.832087562659!2d116.51998077382025!3d-8.612114487489311!2m3!1f0!2f0!3f0!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x2dcc496689b27cd7%3A0x955b906a85c54b8d!2sSMP%20Islam%20Sa&#39;adatuddarain%20NW%20Majuwet!5e0!3m2!1sid!2sid!4v1736651272738!5m2!1sid!2sid"
            width="300"
            height="250"
            style="border: 0"
            allowfullscreen=""
            loading="lazy"
            referrerpolicy="no-referrer-when-downgrade"
          ></iframe>
        </div>
      </div>
      <div class="text-center mt-4">
        <hr class="border-white" />
        <p class="copy-right mb-0">
          Copy Right 2025 | Developer Redi Elwaji Aspan
        </p>
      </div>
    </div>
  </section>

  <!-- Bootstrap JS Bundle -->
  <script
    src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"
  ></script>

  <!-- Script untuk mengambil data sejarah dari API -->
  <script>
    async function loadSejarah() {
      try {
        const response = await fetch('/api/sejarah');
        if (!response.ok) throw new Error('Gagal mengambil data sejarah');
        const data = await response.json();
        const container = document.getElementById('sejarahContent');
        // Tampilkan data sejarah jika ada
        if (data && data.content) {
          container.innerHTML = data.content;
        } else {
          container.innerHTML = '<p class="text-center">Data sejarah tidak tersedia.</p>';
        }
      } catch (error) {
        console.error("Error loading sejarah:", error);
        document.getElementById('sejarahContent').innerHTML = '<p class="text-center text-danger">Terjadi kesalahan saat memuat data sejarah.</p>';
      }
    }
    
    document.addEventListener("DOMContentLoaded", loadSejarah);
  </script>
</body>
</html>
